<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ§  Panel Comercial TecnoRescate</title>
<!-- AGREGAR DESPUÃ‰S DEL TÃTULO -->
<label>ğŸ“‚ SeleccionÃ¡ un archivo dentro de la carpeta del cliente:</label>
<input type="file" id="archivoCliente" />
<div id="resultadoRuta" style="margin-top:10px; color: #7fff7f; font-style: italic;"></div>

<script>
let carpetaClienteSeleccionada = "Sin definir aÃºn";

document.getElementById("archivoCliente").addEventListener("change", function (e) {
  const rutaCompleta = e.target.files[0].webkitRelativePath || e.target.files[0].name;
  const partes = rutaCompleta.split("/");
  carpetaClienteSeleccionada = partes.length > 1 ? partes[0] : partes[0].split("\\")[0];
  document.getElementById("resultadoRuta").textContent =
    `[tree_cliente]\nRuta detectada: ${carpetaClienteSeleccionada}`;
});
</script>
  <style>
    body { font-family: monospace; background: #111; color: #0f0; padding: 2rem; font-size: 1.2rem; }
    h1 { color: #00ffcc; font-size: 2rem; }
    label { display: block; margin-top: 10px; }
    input[type="checkbox"] { margin-right: 10px; }
    select {
      padding: 5px;
      width: 100%;
      margin-top: 10px;
      font-family: monospace;
    }
    .total { margin-top: 20px; font-size: 1.5rem; color: #ffff00; }
    .button-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 20px;
    }
    button {
      margin: 10px;
      background: #0f0;
      color: #000;
      padding: 12px 20px;
      font-weight: bold;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1.1rem;
    }
    .output {
      margin-top: 20px;
      white-space: pre-wrap;
      background: #222;
      padding: 20px;
      border: 1px dashed #0f0;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h1>ğŸ§  Panel Comercial TecnoRescate</h1>

  <label>ğŸ“ SeleccionÃ¡ el cliente o carpeta destino:</label>
  <select id="carpetaCliente">
    <option value="BotCervecero_Web">BotCervecero_Web</option>
    <option value="BotBarberia_Web">BotBarberia_Web</option>
    <option value="BotDelibery_web">BotDelibery_web</option>
    <option value="BotServicioProfesional_Web">BotServicioProfesional_Web</option>
    <option value="Bot_Presupuesto_ASCII">Bot_Presupuesto_ASCII</option>
    <option value="ClientePanaderia">ClientePanaderia</option>
    <option value="ClienteTatuadora">ClienteTatuadora</option>
    <option value="NuevoCliente_Landing">NuevoCliente_Landing</option>
  </select>

  <label>ğŸ“¦ Plantilla base para usar:</label>
  <select id="plantillaBase">
    <option value="BotCervecero_Web.txt">BotCervecero_Web</option>
    <option value="BotBarberia_Web.txt">BotBarberia_Web</option>
    <option value="BotDelibery_web.txt">BotDelibery_web</option>
    <option value="BotServicioProfesional_Web.txt">BotServicioProfesional_Web</option>
    <option value="Bot_Presupuesto_ASCII.txt">Bot_Presupuesto_ASCII</option>
  </select>

  <h3>ğŸ§© SeleccionÃ¡ los mÃ³dulos:</h3>
  <form id="formulario">
    <label><input type="checkbox" value="4500" data-label="Landing BÃ¡sica" data-desc="PresentaciÃ³n simple con contacto.">ğŸ”¹ Landing BÃ¡sica ($4.500)</label>
    <label><input type="checkbox" value="6500" data-label="Landing Pro" data-desc="DiseÃ±o avanzado + links sociales y botÃ³n WhatsApp.">ğŸ”· Landing Pro ($6.500)</label>
    <label><input type="checkbox" value="2000" data-label="Carta Interactiva" data-desc="MenÃº editable desde el celular.">ğŸ“‹ Carta Interactiva ($2.000)</label>
    <label><input type="checkbox" value="1500" data-label="BotÃ³n de reservas" data-desc="BotÃ³n para reservar por WhatsApp.">ğŸ“² BotÃ³n de reservas ($1.500)</label>
    <label><input type="checkbox" value="2500" data-label="Formulario de contacto" data-desc="Formulario online conectado a WhatsApp o correo.">ğŸ“ Formulario de contacto ($2.500)</label>
    <label><input type="checkbox" value="1000" data-label="DiseÃ±o personalizado" data-desc="Colores y logos adaptados al negocio.">ğŸ¨ DiseÃ±o personalizado ($1.000)</label>
    <label><input type="checkbox" value="1500" data-label="CÃ³digo QR" data-desc="QR para escanear desde afiches o cartas.">ğŸ”³ CÃ³digo QR ($1.500)</label>
    <label><input type="checkbox" value="3000" data-label="Agenda de turnos" data-desc="Formulario de reserva con horarios y confirmaciÃ³n.">ğŸ—“ï¸ Agenda de turnos ($3.000)</label>
    <label><input type="checkbox" value="2500" data-label="Panel de seguimiento" data-desc="Panel para seguir pedidos, pacientes o tareas.">ğŸ—‚ï¸ Panel de seguimiento ($2.500)</label>
    <label><input type="checkbox" value="2000" data-label="Presupuestador TÃ©cnico" data-desc="Formulario editable que genera texto ASCII por WhatsApp.">ğŸ§¾ Presupuestador TÃ©cnico ($2.000)</label>
    <label><input type="checkbox" value="3500" data-label="Dictado de voz" data-desc="MÃ³dulo de entrada de voz y conversiÃ³n a texto.">ğŸ¤ Dictado de voz ($3.500)</label>
    <label><input type="checkbox" value="1500" data-label="EstadÃ­sticas bÃ¡sicas" data-desc="Informe mensual simple de visitas o clics.">ğŸ“ˆ EstadÃ­sticas bÃ¡sicas ($1.500)</label>
  </form>

  <div class="total">ğŸ’¸ Total: $<span id="total">0</span></div>

  <div class="button-container">
    <button onclick="generarTexto()">ğŸ§¾ Generar texto para cliente</button>
    <button onclick="generarInstrucciones()">ğŸ¤– Generar instrucciones para FOXY</button>
    <button onclick="copiarTexto()">ğŸ“‹ Copiar texto</button>
    <button onclick="borrarSalida()">ğŸ—‘ï¸ Borrar salida</button>
    <button onclick="enviarAChatGPT()">ğŸš€ Enviar a ChatGPT</button>
  </div>

  <div class="output" id="salida"></div>

  <script>
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    const total = document.getElementById('total');
    const salida = document.getElementById('salida');
    const carpetaCliente = document.getElementById('carpetaCliente');
    const plantillaBase = document.getElementById('plantillaBase');

    function calcularTotal() {
      let suma = 0;
      checkboxes.forEach(c => {
        if (c.checked) suma += parseInt(c.value);
      });
      total.textContent = suma;
    }

    checkboxes.forEach(c => c.addEventListener('change', calcularTotal));

    function generarTexto() {
      const nombre = carpetaCliente.value;
      let modulos = [];
      checkboxes.forEach(c => {
        if (c.checked) modulos.push(`- ${c.dataset.label} ($${c.value}): ${c.dataset.desc}`);
      });
      const mensaje = `âœ… Presupuesto para ${nombre}:\n\nIncluye:\n${modulos.join('\n')}\n\nğŸ’¸ Total: $${total.textContent}\n\nConsultanos si querÃ©s sumar mÃ¡s funciones. ğŸ˜‰`;
      salida.textContent = mensaje;
    }

    function generarInstrucciones() {
      const nombre = carpetaCliente.value;
      const plantilla = plantillaBase.value;
      let modulos = [];
      checkboxes.forEach(c => {
        if (c.checked) modulos.push(`- ${c.dataset.label}: ${c.dataset.desc}`);
      });
      const mensaje = `[FOXY_HTML_LOCAL]\n\nQuiero generar un bot para: ${nombre}\n\nğŸ§± Plantilla base: ${plantilla}\nğŸ“ Carpeta de destino: ${nombre}/\n\nğŸ§© MÃ³dulos seleccionados:\n${modulos.join('\n')}\n\nEl diseÃ±o debe ser modular, funcional y optimizado para celulares.`;
      salida.textContent = mensaje;
    }

    function copiarTexto() {
      const texto = salida.textContent;
      if (!texto) {
        alert("âš ï¸ No hay nada para copiar.");
        return;
      }
      navigator.clipboard.writeText(texto)
        .then(() => alert("âœ… Texto copiado al portapapeles."))
        .catch(err => alert("âŒ Error al copiar: " + err));
    }

    function borrarSalida() {
      salida.textContent = "";
      total.textContent = "0";
    }

    function enviarAChatGPT() {
      const texto = salida.textContent;
      if (!texto) {
        alert("âš ï¸ Primero generÃ¡ un texto para enviar.");
        return;
      }
      const prompt = encodeURIComponent(texto);
      window.open(`https://chat.openai.com/?prompt=${prompt}`, "_blank");
    }
  </script>
</body>
</html>
